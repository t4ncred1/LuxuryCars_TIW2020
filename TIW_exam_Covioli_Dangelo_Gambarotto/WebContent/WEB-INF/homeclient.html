<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Worker assignment to project</title>
<link rel="stylesheet" type="text/css" media="all" href="../CSS/mystyle.css" th:href="@{/css/mystyle.css}" />
</head>
<body class="bodybase clientpage">

	<ul id="topbar">
		<li><a th:href="@{/Logout}" th:text="#{logout}">Esci</a></li>
	</ul>
	

	<h1 th:text="#{welcome} + ${name}">Bentornato</h1>

	<p th:if="${showSuccessMessage}==true" th:text="#{success}"></p>
	<p th:if="${showErrorMessage}==true" th:text="#{error}"></p>


	<h2 th:text="#{quotations}">Le tue richieste</h2>
	<div>
		<table id="pastable" border='1'>
			<thead>
				<tr>
					<th th:text="#{id}">ID</th>
					<th th:text="#{product}">Prodotto</th>
					<th th:text="#{date}">Data</th>
					<th th:text="#{price}">Prezzo</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="q : ${quotations}">
					<td th:text="${q.quotationId}">1</td>
					<td th:text="${q.productName}">Toyota Aygo</td>
					<td th:text="${q.date}">17/02/1996</td>
					<td th:if="${q.value}!=0" th:text="${q.value}">100E</td>
					<td th:if="${q.value}==0" th:text="#{pending}">100E</td>
				</tr>
			</tbody>
		</table>
	</div>



	<h2 th:text="#{intro}">Prodotti disponibili</h2>
	<div id="imageslist">
		<a th:each="p : ${products}" th:href="@{/HomeClient(product=${p.id})}"><img
			th:src="@{/ProductImage(product=${p.id}, thumbnail=true)}" width="200"><br><span th:text="${p.name}">Toyota Aygo</span></a>			
		<br>
	</div>
	<br>
	<br>
	<div th:if="${selProd != null}">
		<table th:id="chosenproduct" border='1' th:each="p : ${products}">
			<tbody th:if="${selProd == p.id}">
				<tr>
					<td><img th:src="@{/ProductImage(product=${p.id})}" width="600"></td>
					<td>
						<form class="optionbox" action="SubmitRequest" method="POST">
							<input type="hidden" name="productId" required="required" th:value="${p.id}" />
							<div th:each="o : ${p.options}">
								<input type="checkbox" th:id="${o.id}" th:name="options" th:value="${o.id}">
								<label th:for="${o.name}" th:text="${o.name}"> I have a boat</label><br>
							</div>
							<input type="submit" value="Submit">
						</form>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	
	
</body>
</html>